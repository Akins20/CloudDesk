# ============================================================================
# CloudDesk License Server Environment Configuration
# Copy to .env and fill in your values
# ============================================================================

# Server
NODE_ENV=development
PORT=3001
API_URL=http://localhost:3001

# Database
MONGODB_URI=mongodb://localhost:27017/clouddesk-licenses

# Redis (optional, for rate limiting)
REDIS_URL=redis://localhost:6379

# JWT Authentication
JWT_ACCESS_SECRET=your-secure-access-secret-min-32-characters
JWT_REFRESH_SECRET=your-secure-refresh-secret-min-32-characters
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# License Key Signing (Ed25519)
# Generate with: openssl genpkey -algorithm Ed25519 -out private.pem
LICENSE_PRIVATE_KEY=base64-encoded-ed25519-private-key
LICENSE_PUBLIC_KEY=base64-encoded-ed25519-public-key

# Stripe
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# Stripe Product IDs
# Run: npx ts-node src/scripts/setupStripe.ts to create products
# Or create manually in Stripe Dashboard
STRIPE_TEAM_MONTHLY_PRICE_ID=price_xxx
STRIPE_TEAM_YEARLY_PRICE_ID=price_xxx
STRIPE_ENTERPRISE_MONTHLY_PRICE_ID=price_xxx
STRIPE_ENTERPRISE_YEARLY_PRICE_ID=price_xxx

# Admin Credentials (initial setup)
ADMIN_EMAIL=admin@clouddesk.io
ADMIN_PASSWORD=change-this-password

# Frontend URLs
PORTAL_URL=http://localhost:3002
CLOUDDESK_URL=https://clouddesk.io

# Email (optional)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@clouddesk.io

# CORS
CORS_ORIGINS=http://localhost:3002,https://license.clouddesk.io

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
